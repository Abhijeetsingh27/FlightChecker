{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../hooks/useAuth';import{supabase}from'../supabaseClient';// Import supabase for sign out\nimport FlightSearch from'./FlightSearch';// Assuming these exist\nimport BookingForm from'./BookingForm';import BookingConfirmation from'./BookingConfirmation';import TripsAhead from'./TripsAhead';// Import the new component\nimport'./HomePage.css';// Import CSS\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const HomePage=()=>{var _user$user_metadata;const user=useAuth();const[showTrips,setShowTrips]=useState(false);// State to control TripsAhead visibility\nconst handleSignOut=async()=>{await supabase.auth.signOut();// The useAuth hook will update, App.js will handle redirection\n};const toggleShowTrips=()=>{setShowTrips(!showTrips);};// You might want to fetch profile data here if needed\n// const [profile, setProfile] = useState(null);\n// useEffect(() => {\n//   const fetchProfile = async () => {\n//     if (user) {\n//       const { data } = await supabase.from('profiles').select('full_name').eq('id', user.id).single();\n//       setProfile(data);\n//     } else {\n//       setProfile(null);\n//     }\n//   };\n//   fetchProfile();\n// }, [user]);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"Flight Booker\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"main-nav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#flight-search\",children:\"Book a Flight\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleShowTrips,className:\"trips-ahead-button\",children:\"Trips Ahead\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-profile\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Hello, \",((_user$user_metadata=user.user_metadata)===null||_user$user_metadata===void 0?void 0:_user$user_metadata.full_name)||user.email]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"sign-out-button\",children:\"Sign Out\"})]}):/*#__PURE__*/// This part should not be reached if protected routing works,\n// but good as a fallback\n_jsx(\"span\",{children:\"Not logged in\"})})]}),/*#__PURE__*/_jsx(\"main\",{className:\"app-main-content\",children:showTrips?/*#__PURE__*/_jsx(TripsAhead,{onClose:toggleShowTrips}):/*#__PURE__*/// Render standard home page content when showTrips is false\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{id:\"flight-search\",className:\"content-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Find Your Flight\"}),/*#__PURE__*/_jsx(FlightSearch,{})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"content-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Booking Details\"}),/*#__PURE__*/_jsx(BookingForm,{})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"content-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Confirmation\"}),/*#__PURE__*/_jsx(BookingConfirmation,{})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2023 Flight Booker. All rights reserved.\"})})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useAuth","supabase","FlightSearch","BookingForm","BookingConfirmation","TripsAhead","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HomePage","_user$user_metadata","user","showTrips","setShowTrips","handleSignOut","auth","signOut","toggleShowTrips","className","children","href","onClick","user_metadata","full_name","email","onClose","id"],"sources":["C:/Users/as999/Desktop/Flight/frontend/src/components/HomePage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { supabase } from '../supabaseClient'; // Import supabase for sign out\r\nimport FlightSearch from './FlightSearch'; // Assuming these exist\r\nimport BookingForm from './BookingForm';\r\nimport BookingConfirmation from './BookingConfirmation';\r\nimport TripsAhead from './TripsAhead'; // Import the new component\r\nimport './HomePage.css'; // Import CSS\r\n\r\nconst HomePage = () => {\r\n  const user = useAuth();\r\n  const [showTrips, setShowTrips] = useState(false); // State to control TripsAhead visibility\r\n\r\n  const handleSignOut = async () => {\r\n    await supabase.auth.signOut();\r\n    // The useAuth hook will update, App.js will handle redirection\r\n  };\r\n\r\n  const toggleShowTrips = () => {\r\n    setShowTrips(!showTrips);\r\n  };\r\n\r\n  // You might want to fetch profile data here if needed\r\n  // const [profile, setProfile] = useState(null);\r\n  // useEffect(() => {\r\n  //   const fetchProfile = async () => {\r\n  //     if (user) {\r\n  //       const { data } = await supabase.from('profiles').select('full_name').eq('id', user.id).single();\r\n  //       setProfile(data);\r\n  //     } else {\r\n  //       setProfile(null);\r\n  //     }\r\n  //   };\r\n  //   fetchProfile();\r\n  // }, [user]);\r\n\r\n  return (\r\n    <div className=\"homepage-container\">\r\n      <header className=\"app-header\">\r\n        <div className=\"logo\">Flight Booker</div>\r\n        <nav className=\"main-nav\">\r\n          {/* Link to \"Book a Flight\" section or component */}\r\n          <a href=\"#flight-search\">Book a Flight</a>\r\n          {/* Add the Trips Ahead button */}\r\n          <button onClick={toggleShowTrips} className=\"trips-ahead-button\">\r\n            Trips Ahead\r\n          </button>\r\n          {/* Add more navigation links here if needed */}\r\n        </nav>\r\n        <div className=\"user-profile\">\r\n          {user ? (\r\n            <>\r\n              {/* Display user's name or email */}\r\n              <span>Hello, {user.user_metadata?.full_name || user.email}</span>\r\n              <button onClick={handleSignOut} className=\"sign-out-button\">Sign Out</button>\r\n              {/* You could add a profile icon/link here */}\r\n            </>\r\n          ) : (\r\n            // This part should not be reached if protected routing works,\r\n            // but good as a fallback\r\n            <span>Not logged in</span>\r\n          )}\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"app-main-content\">\r\n        {/* Conditionally render TripsAhead */}\r\n        {showTrips ? (\r\n          <TripsAhead onClose={toggleShowTrips} />\r\n        ) : (\r\n          // Render standard home page content when showTrips is false\r\n          <>\r\n            <section id=\"flight-search\" className=\"content-section\">\r\n              <h2>Find Your Flight</h2>\r\n              <FlightSearch />\r\n            </section>\r\n\r\n            <section className=\"content-section\">\r\n              <h2>Booking Details</h2>\r\n              <BookingForm />\r\n            </section>\r\n\r\n            <section className=\"content-section\">\r\n              <h2>Confirmation</h2>\r\n              <BookingConfirmation />\r\n            </section>\r\n          </>\r\n        )}\r\n      </main>\r\n\r\n      <footer className=\"app-footer\">\r\n        <p>&copy; 2023 Flight Booker. All rights reserved.</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}