{"ast":null,"code":"import axios from'axios';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:4000';console.log('API URL:',API_URL);const api=axios.create({baseURL:API_URL,headers:{'Content-Type':'application/json'}});export const searchFlights=async params=>{try{console.log('Frontend API: Searching flights with params:',params);const response=await api.get('/flights',{params});console.log('Frontend API: Search response:',response.data);return response.data;}catch(error){var _error$response;console.error('Frontend API: Error searching flights:',error.response||error);throw((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error;}};export const getFlightById=async id=>{try{console.log('Getting flight by ID:',id);const response=await api.get(\"/flights/\".concat(id));console.log('Flight details:',response.data);return response.data;}catch(error){var _error$response2;console.error('Error getting flight:',error.response||error);throw((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error;}};export const createBooking=async bookingData=>{try{console.log('Frontend API: Creating booking with data:',bookingData);const response=await api.post('/bookings',bookingData);console.log('Frontend API: Booking creation response:',response.data);return response.data;}catch(error){var _error$response3;console.error('Frontend API: Error creating booking:',error.response||error);throw((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error;}};export const getBookingById=async id=>{try{console.log('Getting booking by ID:',id);const response=await api.get(\"/bookings/\".concat(id));console.log('Booking details:',response.data);return response.data;}catch(error){var _error$response4;console.error('Error getting booking:',error.response||error);throw((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||error;}};export const getBookingsByUserId=async userId=>{try{console.log('Frontend API: Fetching bookings for user:',userId);// Make sure this matches the backend route: /bookings/user/:userId\nconst response=await api.get(\"/bookings/user/\".concat(userId));console.log('Frontend API: User bookings response:',response.data);return response.data;}catch(error){var _error$response5;console.error('Frontend API: Error fetching user bookings:',error.response||error);throw((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data)||error;}};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","headers","searchFlights","params","response","get","data","error","_error$response","getFlightById","id","concat","_error$response2","createBooking","bookingData","post","_error$response3","getBookingById","_error$response4","getBookingsByUserId","userId","_error$response5"],"sources":["C:/Users/as999/Desktop/React/Flight/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:4000';\nconsole.log('API URL:', API_URL);\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const searchFlights = async (params) => {\n  try {\n    console.log('Frontend API: Searching flights with params:', params);\n    const response = await api.get('/flights', { params });\n    console.log('Frontend API: Search response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Frontend API: Error searching flights:', error.response || error);\n    throw error.response?.data || error;\n  }\n};\n\nexport const getFlightById = async (id) => {\n  try {\n    console.log('Getting flight by ID:', id);\n    const response = await api.get(`/flights/${id}`);\n    console.log('Flight details:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error getting flight:', error.response || error);\n    throw error.response?.data || error;\n  }\n};\n\nexport const createBooking = async (bookingData) => {\n  try {\n    console.log('Frontend API: Creating booking with data:', bookingData);\n    const response = await api.post('/bookings', bookingData);\n    console.log('Frontend API: Booking creation response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Frontend API: Error creating booking:', error.response || error);\n    throw error.response?.data || error;\n  }\n};\n\nexport const getBookingById = async (id) => {\n  try {\n    console.log('Getting booking by ID:', id);\n    const response = await api.get(`/bookings/${id}`);\n    console.log('Booking details:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error getting booking:', error.response || error);\n    throw error.response?.data || error;\n  }\n};\n\nexport const getBookingsByUserId = async (userId) => {\n  try {\n    console.log('Frontend API: Fetching bookings for user:', userId);\n    // Make sure this matches the backend route: /bookings/user/:userId\n    const response = await api.get(`/bookings/user/${userId}`);\n    console.log('Frontend API: User bookings response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Frontend API: Error fetching user bookings:', error.response || error);\n    throw error.response?.data || error;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}