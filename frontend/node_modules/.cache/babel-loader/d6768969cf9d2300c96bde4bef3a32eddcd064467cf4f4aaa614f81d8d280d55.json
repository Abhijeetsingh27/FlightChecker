{"ast":null,"code":"import React from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import{useAuth}from'./hooks/useAuth';import AuthPage from'./components/AuthPage';import HomePage from'./components/HomePage';import FlightSearch from'./components/FlightSearch';import{BookingProvider}from'./context/BookingContext';// Removed unused imports: BookingForm, BookingConfirmation\n// import BookingForm from './components/BookingForm';\n// import BookingConfirmation from './components/BookingConfirmation';\nimport'./styles/main.css';// This component decides whether to show children or redirect to login\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const AuthWrapper=_ref=>{let{children}=_ref;const user=useAuth();// Still loading auth status\nif(user===undefined){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Or a spinner\n}// User is logged in, show the children (HomePage)\nif(user){return/*#__PURE__*/_jsx(_Fragment,{children:children});}// User is not logged in, redirect to login\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};function App(){return/*#__PURE__*/_jsxs(BookingProvider,{children:[\" \",/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(AuthPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(AuthWrapper,{children:/*#__PURE__*/_jsx(HomePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/flights\",element:/*#__PURE__*/_jsx(AuthWrapper,{children:/*#__PURE__*/_jsx(FlightSearch,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})]});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Routes","Route","Navigate","useAuth","AuthPage","HomePage","FlightSearch","BookingProvider","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AuthWrapper","_ref","children","user","undefined","to","replace","App","path","element"],"sources":["C:/Users/as999/Desktop/Flight/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuth } from './hooks/useAuth';\nimport AuthPage from './components/AuthPage';\nimport HomePage from './components/HomePage';\nimport FlightSearch from './components/FlightSearch';\nimport { BookingProvider } from './context/BookingContext';\n// Removed unused imports: BookingForm, BookingConfirmation\n// import BookingForm from './components/BookingForm';\n// import BookingConfirmation from './components/BookingConfirmation';\nimport './styles/main.css';\n\n// This component decides whether to show children or redirect to login\nconst AuthWrapper = ({ children }) => {\n  const user = useAuth();\n\n  // Still loading auth status\n  if (user === undefined) {\n    return <div>Loading...</div>; // Or a spinner\n  }\n\n  // User is logged in, show the children (HomePage)\n  if (user) {\n    return <>{children}</>;\n  }\n\n  // User is not logged in, redirect to login\n  return <Navigate to=\"/login\" replace />;\n};\n\nfunction App() {\n  return (\n    <BookingProvider> {/* Keep BookingContext around the main app */}\n      <BrowserRouter>\n        <Routes>\n          {/* Route for the authentication page */}\n          <Route path=\"/login\" element={<AuthPage />} />\n\n          {/* Protected route for the home page and other authenticated content */}\n          {/* All routes defined inside AuthWrapper will require login */}\n          <Route path=\"/\" element={<AuthWrapper><HomePage /></AuthWrapper>} />\n\n          <Route path=\"/flights\" element={<AuthWrapper><FlightSearch /></AuthWrapper>} />\n\n          {/* Optional: Redirect any unknown routes to login if not authenticated */}\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n\n        </Routes>\n      </BrowserRouter>\n    </BookingProvider>\n  );\n}\n\nexport default App; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACzE,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,OAASC,eAAe,KAAQ,0BAA0B,CAC1D;AACA;AACA;AACA,MAAO,mBAAmB,CAE1B;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAAAE,IAAI,CAAGd,OAAO,CAAC,CAAC,CAEtB;AACA,GAAIc,IAAI,GAAKC,SAAS,CAAE,CACtB,mBAAOT,IAAA,QAAAO,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAChC,CAEA;AACA,GAAIC,IAAI,CAAE,CACR,mBAAOR,IAAA,CAAAE,SAAA,EAAAK,QAAA,CAAGA,QAAQ,CAAG,CAAC,CACxB,CAEA;AACA,mBAAOP,IAAA,CAACP,QAAQ,EAACiB,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAAC,CAED,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,mBACER,KAAA,CAACN,eAAe,EAAAS,QAAA,EAAC,GAAC,cAChBP,IAAA,CAACV,aAAa,EAAAiB,QAAA,cACZH,KAAA,CAACb,MAAM,EAAAgB,QAAA,eAELP,IAAA,CAACR,KAAK,EAACqB,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEd,IAAA,CAACL,QAAQ,GAAE,CAAE,CAAE,CAAC,cAI9CK,IAAA,CAACR,KAAK,EAACqB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEd,IAAA,CAACK,WAAW,EAAAE,QAAA,cAACP,IAAA,CAACJ,QAAQ,GAAE,CAAC,CAAa,CAAE,CAAE,CAAC,cAEpEI,IAAA,CAACR,KAAK,EAACqB,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEd,IAAA,CAACK,WAAW,EAAAE,QAAA,cAACP,IAAA,CAACH,YAAY,GAAE,CAAC,CAAa,CAAE,CAAE,CAAC,cAG/EG,IAAA,CAACR,KAAK,EAACqB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEd,IAAA,CAACP,QAAQ,EAACiB,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAElD,CAAC,CACI,CAAC,EACD,CAAC,CAEtB,CAEA,cAAe,CAAAC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}