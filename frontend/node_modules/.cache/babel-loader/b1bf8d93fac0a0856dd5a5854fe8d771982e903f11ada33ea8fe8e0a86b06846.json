{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { supabase } from '../supabaseClient';\nexport function useAuth() {\n  _s();\n  const [user, setUser] = useState(undefined); // undefined = loading, null = not logged in\n\n  useEffect(() => {\n    supabase.auth.getUser().then(({\n      data: {\n        user\n      }\n    }) => setUser(user));\n    const {\n      data: listener\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      var _session$user;\n      setUser((_session$user = session === null || session === void 0 ? void 0 : session.user) !== null && _session$user !== void 0 ? _session$user : null);\n    });\n    return () => listener.subscription.unsubscribe();\n  }, []);\n  return user;\n}\n_s(useAuth, \"k7s7A7S01Q+DeTLxmZ7J/UPfNsI=\");","map":{"version":3,"names":["useEffect","useState","supabase","useAuth","_s","user","setUser","undefined","auth","getUser","then","data","listener","onAuthStateChange","_event","session","_session$user","subscription","unsubscribe"],"sources":["C:/Users/as999/Desktop/React/Flight/frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { supabase } from '../supabaseClient';\n\nexport function useAuth() {\n  const [user, setUser] = useState(undefined); // undefined = loading, null = not logged in\n\n  useEffect(() => {\n    supabase.auth.getUser().then(({ data: { user } }) => setUser(user));\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null);\n    });\n    return () => listener.subscription.unsubscribe();\n  }, []);\n\n  return user;\n} "],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,mBAAmB;AAE5C,OAAO,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAACM,SAAS,CAAC,CAAC,CAAC;;EAE7CP,SAAS,CAAC,MAAM;IACdE,QAAQ,CAACM,IAAI,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MAAEC,IAAI,EAAE;QAAEN;MAAK;IAAE,CAAC,KAAKC,OAAO,CAACD,IAAI,CAAC,CAAC;IACnE,MAAM;MAAEM,IAAI,EAAEC;IAAS,CAAC,GAAGV,QAAQ,CAACM,IAAI,CAACK,iBAAiB,CAAC,CAACC,MAAM,EAAEC,OAAO,KAAK;MAAA,IAAAC,aAAA;MAC9EV,OAAO,EAAAU,aAAA,GAACD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEV,IAAI,cAAAW,aAAA,cAAAA,aAAA,GAAI,IAAI,CAAC;IAChC,CAAC,CAAC;IACF,OAAO,MAAMJ,QAAQ,CAACK,YAAY,CAACC,WAAW,CAAC,CAAC;EAClD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOb,IAAI;AACb;AAACD,EAAA,CAZeD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}